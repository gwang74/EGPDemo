webpackJsonp([2,7,8,10],{"8eAK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Sya/"),s=n("bmUB"),r=n("JBcP"),i=n("ymcs"),o={name:"TransferPayment",components:{agiotage:a.default,payment:s.default,transactionInquiry:r.default},created:function(){i.a.$emit("currentRouteName","TransferPayment")},data:function(){return{currentShow:"agiotage",list:[{name:"agiotage",title:this.$t("message.transferPayment.agiotage")},{name:"payment",title:this.$t("message.transferPayment.payment")},{name:"transactionInquiry",title:this.$t("message.transferPayment.tradeInquiry")}]}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"auto","background-color":"#fafafa"},attrs:{id:"TransferPayment"}},[n("div",{staticStyle:{width:"100%",position:"fixed",top:"0","z-index":"1"}},[n("ul",{staticClass:"transferHead"},e._l(e.list,function(t,a){return n("li",{key:a,class:{"li-clicked":e.currentShow===t.name},on:{click:function(n){e.currentShow=t.name}}},[e._v(e._s(t.title))])}),0)]),e._v(" "),n(e.currentShow,{tag:"component"})],1)},staticRenderFns:[]};var l=n("VU/8")(o,c,!1,function(e){n("O4eg")},"data-v-71e8a9b7",null);t.default=l.exports},Dd8w:function(e,t,n){"use strict";t.__esModule=!0;var a,s=n("woOf"),r=(a=s)&&a.__esModule?a:{default:a};t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}},JBcP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"transactionInquiry",data:function(){return{excessive:"",show:!1,popup:!1,refer:"",minDate:new Date(2018,10,1),maxDate:new Date,currentDate:new Date,changeDate:"",selectTime:[{startTime:"",startTimeTip:"1"},{endTime:"",endTimeTip:"2"}],tradingRecord:[{time:"2019-2-3",walletAddress:"sssss",money:"3456765432"},{time:"2019-2-4",walletAddress:"sssss",money:"3456765432"},{time:"2019-2-5",walletAddress:"sssss",money:"3456765432"}],BillingDetails:{indentNumber:{name:this.$t("message.transferPayment.transactionInquiry.indentNumber"),value:"11345456432"},remittanceAmount:{name:this.$t("message.transferPayment.remittanceAmount"),value:"13,245 GSD"},transactionCost:{name:this.$t("message.transferPayment.transactionCost"),value:"5 GSD"},exchangeRate:{name:this.$t("message.transferPayment.exchangeRate"),value:"5,791.2 HKD"},receivableAmount:{name:this.$t("message.transferPayment.receivableAmount"),value:"5,786.2 HKD"},payee:{name:this.$t("message.transferPayment.payee"),value:"赵四"},walletAddress:{name:this.$t("message.transferPayment.walletAddress"),value:"sdjfiojwqiHIJnjknJDJBjbk"},purpose:{name:this.$t("message.transferPayment.purpose"),value:this.$t("message.transferPayment.overseasInvestment")},result:{name:this.$t("message.transferPayment.transactionInquiry.result"),value:this.$t("message.transferPayment.transactionInquiry.paymentSuccess")},date:{name:this.$t("message.transferPayment.transactionInquiry.date"),value:"2019-02-18"}}}},computed:{changeStyleOne:function(){if(this.selectTime[0].startTime!==this.changeDate)return"border-color:#A5C3FA;color:#373e44"},changeStyleTwo:function(){if(this.selectTime[1].endTime!==this.changeDate)return"border-color:#A5C3FA;color:#373e44"},fullscreen:function(){return{width:screen.width*window.devicePixelRatio+"px",height:screen.height*window.devicePixelRatio+"px",background:"#fafafa"}}},methods:{selectTimes:function(e){this.selectTime[0].startTimeTip===e.startTimeTip?(this.show=!0,this.excessive="0",console.log("走开始日期")):(this.show=!0,this.excessive="1",console.log("走结束日期"))},confirm:function(e){console.log(e),"0"===e?(this.change(),this.selectTime.startTime=this.changeDate):(this.change(),this.selectTime.endTime=this.changeDate),this.show=!1},cancel:function(){console.log("取消"),this.show=!1},change:function(){var e=this.currentDate,t=e.getMonth()+1,n=e.getDate();t>=1&&t<=9&&(t="0"+t),n>=0&&n<=9&&(n="0"+n),this.changeDate=e.getFullYear()+"-"+t+"-"+n},SeeMore:function(){this.selectTime.startTime="",this.selectTime.endTime="",console.log("查询")},billingDetails:function(e){this.popup=!0},goback:function(){this.popup=!1}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"transactionInquiry"}},[a("section",{staticClass:"prlmaryone"},[a("div",[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.startdate")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectTime.startTime,expression:"selectTime.startTime"}],style:e.changeStyleOne,attrs:{placeholder:e.$t("message.transferPayment.transactionInquiry.enterStart"),readonly:"readonly"},domProps:{value:e.selectTime.startTime},on:{input:function(t){t.target.composing||e.$set(e.selectTime,"startTime",t.target.value)}}}),e._v(" "),a("i",{staticClass:"transactionInquiry_calendar",on:{click:function(t){return e.selectTimes(e.selectTime[0])}}})]),e._v(" "),a("section",{staticClass:"prlmaryone",staticStyle:{padding:"0.2rem 0.3rem 0 0.3rem"}},[a("div",[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.deadline")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectTime.endTime,expression:"selectTime.endTime"}],style:e.changeStyleTwo,attrs:{placeholder:e.$t("message.transferPayment.transactionInquiry.enterEnd"),readonly:"readonly"},domProps:{value:e.selectTime.endTime},on:{input:function(t){t.target.composing||e.$set(e.selectTime,"endTime",t.target.value)}}}),e._v(" "),a("i",{staticClass:"transactionInquiry_calendar",staticStyle:{top:"2.4rem"},on:{click:function(t){return e.selectTimes(e.selectTime[1])}}})]),e._v(" "),a("section",{staticClass:"prlmaryone",staticStyle:{padding:"0.2rem 0.3rem 0 0.3rem"}},[a("div",[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.filtrate")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.refer,expression:"refer"}],staticClass:"refer",staticStyle:{width:"50%"},domProps:{value:e.refer},on:{input:function(t){t.target.composing||(e.refer=t.target.value)}}}),e._v(" "),a("div",{staticStyle:{height:"0.7rem",width:"25%","font-size":"0.26rem","line-height":"0.7rem","text-align":"center"}},[a("div",{staticStyle:{"background-color":"#5AC4CF",width:"85%",height:"100%","margin-left":"0.2rem","border-radius":"0.1rem",color:"#fff"},on:{click:e.SeeMore}},[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.refer")))])])]),e._v(" "),a("section",{staticStyle:{padding:"0.2rem 0.3rem 0 0.3rem"}},[a("div",{staticClass:"listStyle"},[a("span",[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.date")))]),e._v(" "),a("span",[e._v(e._s(e.$t("message.transferPayment.walletAddress")))]),e._v(" "),a("span",{staticStyle:{padding:"0 0.3rem 0 0"}},[e._v(e._s(e.$t("message.transferPayment.remittanceAmount")))])]),e._v(" "),a("ul",e._l(e.tradingRecord,function(t,n){return a("li",{key:n,staticClass:"listStyle",staticStyle:{padding:"0.2rem 0"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"},on:{click:function(n){return e.billingDetails(t)}}},[a("span",[e._v(e._s(t.time))]),e._v(" "),a("span",[e._v(e._s(t.walletAddress))]),e._v(" "),a("span",{staticStyle:{padding:"0 0.3rem 0 0"}},[e._v(e._s(t.money))]),e._v(" "),a("i",{staticClass:"personal_rightArrow"})])])}),0)]),e._v(" "),a("section",[a("van-popup",{model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticStyle:{width:"600px",height:"300px","font-size":"0.26rem"}},[a("van-datetime-picker",{staticStyle:{"font-size":"0.3rem"},attrs:{type:"date","min-date":e.minDate,"item-height":50,"confirm-button-text":e.$t("message.transferPayment.transactionInquiry.confirm"),"cancel-button-text":e.$t("message.transferPayment.transactionInquiry.cancel")},on:{confirm:function(t){return e.confirm(e.excessive)},cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)])],1),e._v(" "),a("section",[a("van-popup",{attrs:{position:"left",overlay:!1},model:{value:e.popup,callback:function(t){e.popup=t},expression:"popup"}},[a("div",{style:e.fullscreen},[a("div",{staticClass:"top"},[a("img",{attrs:{src:n("TBi3")},on:{click:e.goback}}),e._v(" "),a("span",[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.billingDetails")))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.indentNumber.name))]),a("span",[e._v(e._s(e.BillingDetails.indentNumber.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.remittanceAmount.name))]),a("span",[e._v(e._s(e.BillingDetails.remittanceAmount.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.transactionCost.name))]),a("span",[e._v(e._s(e.BillingDetails.transactionCost.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.exchangeRate.name))]),a("span",[e._v(e._s(e.BillingDetails.exchangeRate.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.receivableAmount.name))]),a("span",[e._v(e._s(e.BillingDetails.receivableAmount.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.payee.name))]),a("span",[e._v(e._s(e.BillingDetails.payee.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.walletAddress.name))]),a("span",[e._v(e._s(e.BillingDetails.walletAddress.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.purpose.name))]),a("span",[e._v(e._s(e.BillingDetails.purpose.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.result.name))]),a("span",[e._v(e._s(e.BillingDetails.result.value))])]),e._v(" "),a("div",{staticClass:"BillingDetails"},[a("span",[e._v(e._s(e.BillingDetails.date.name))]),a("span",[e._v(e._s(e.BillingDetails.date.value))])])])])],1),e._v(" "),a("section")])},staticRenderFns:[]};var r=n("VU/8")(a,s,!1,function(e){n("hb3a")},"data-v-c21dd43a",null);t.default=r.exports},O4eg:function(e,t){},"Sya/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),s=n.n(a),r=n("exGp"),i=n.n(r),o=(n("GKy3"),n("4vvA")),c=n.n(o),l=n("uotZ"),m=n("h496"),u=n("//Fk"),d=n.n(u),f=n("mF0L"),g=n("bG0Y"),p=n("c5/C"),v=n("lqT0"),h=n("ahwU"),y={mixins:[p.jNodeConfig],methods:{confirmSubmit:function(e){var t=this;return i()(s.a.mark(function n(){var a,r,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=new v.JcWalletTool(t.jcWallet),r=!0,i=null,n.prev=3,n.next=6,a.validatePassword(e,"swt");case 6:i=n.sent,n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(3),c.a.fail(t.$t("message.transferPayment.passwordWrong")),n.abrupt("return");case 13:return n.abrupt("return",new d.a(function(e,n){Object(g.createOrder)({counter:t.currencyPairs.counter,base:t.currencyPairs.base,issuer:"jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or",address:t.publicKey,secret:i,type:t.type,amount:t.getAmount,sum:t.sum,hosts:r?t.exHosts:[window.location.hostname],port:r?t.exPort:"8080",https:t.https}).then(function(){return c.a.success(t.$t("message.transferPayment.successCreateOrder")),e()}).catch(function(e){return n(e)})}));case 14:case"end":return n.stop()}},n,t,[[3,9]])}))()},getBaseName:function(e){return"CNT"===e?"CNY":"SWTC"===e?"SWT":e},orderWithtradePsw:function(e){var t=this;if(!this.isValidAddress(this.form.walletAddress))return c.a.fail(this.$t("message.transferPayment.toAddressVaild")),void this.clearInput();var n=new v.JcWalletTool(this.jcWallet),a=this.exHosts,s=this.exPort;n.validatePassword(this.form.tradePsw,"swt").then(function(n){var r={issuer:"jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or"};r.currency=e,r.address=t.publicKey,r.to=t.form.walletAddress,r.amount=t.form.inputTargetCount,r.memo=t.form.purpose,r.secret=n,r.hosts=a,r.port=s,r.https=t.https,setTimeout(function(){t.confirmTransfer(r)},1e3)}).catch(function(e){c.a.fail(e.message)}).finally(function(){})},confirmTransfer:function(e){var t=this;console.log("开始转账"),console.log(e),Object(g.transferAccount)(e).then(function(){c.a.success(t.$t("message.transferPayment.finishAgiotage"))}).catch(function(e){console.log(e.message),c.a.fail(e.message)})},isValidAddress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"swt";return h.Wallet.isValidAddress(e,t)}},computed:{sum:function(){var e=new l.BigNumber(this.form.price).decimalPlaces(3).toNumber(),t=this.form.inputTargetCount,n=this.form.amount,a=0;return 0===this.type?Object(f.c)(parseFloat(e))&&Object(f.c)(parseFloat(t))&&(a=new l.BigNumber(t).decimalPlaces(6).multipliedBy(e).decimalPlaces(6).toNumber()):1===this.type&&Object(f.c)(parseFloat(e))&&Object(f.c)(parseFloat(n))&&(a=new l.BigNumber(n).decimalPlaces(6).multipliedBy(e).decimalPlaces(6).toNumber()),a},getAmount:function(){return 0===this.type?this.form.inputTargetCount:1===this.type?this.form.amount:void 0},publicKey:function(){return this.$store.getters.swtAddress},jcWallet:function(){return this.$store.getters.jcWallet}}},_=n("mL9E"),w={name:"agiotage",components:{JcSelect:m.default},mixins:[y],data:function(){return{selectedHolding:!0,choosingPurpose:!1,confirmDialog:!1,form:{amount:0,inputTargetCount:"",tradePsw:"",payeeName:"",walletAddress:"",purpose:this.$t("message.transferPayment.overseasInvestment")},base:"CNT",baseChoosing:!1,counter:"EGP",counterChoosing:!1,type:0,purposeList:[{name:this.$t("message.transferPayment.overseasInvestment")},{name:this.$t("message.transferPayment.crossBorderTransfer")},{name:this.$t("message.transferPayment.crossBorderPayment")}],currencyList:[],currencyPairs:{base:"",counter:""}}},mounted:function(){var e=this;this.form.amount=1e3,this.form.inputTargetCount=this.getAmountOfConvert,setTimeout(function(){e.getCurrencyListList()},300)},methods:{confirmPay:function(){var e=this;this.confirmDialog=!1,this.checkInput&&!this.loading&&(this.loading=!0,c.a.loading({duration:0,forbidClick:!0,message:this.$t("message.transferPayment.exchangeing")}),this.confirmSubmit(this.form.tradePsw).then(function(){setTimeout(function(){c.a.loading({duration:0,forbidClick:!0,message:e.$t("message.transferPayment.transfering")})},2500),setTimeout(function(){e.checkBalance(e.counter,e.form.inputTargetCount)},12500)}).catch(function(t){console.log(t),e.clearInput()}))},checkBalance:function(e,t){var n=this;return i()(s.a.mark(function a(){var r,i,o;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.getBaseName(e),console.log("balance-coin="+r,"balance-amount="+t),console.log("balance-addr="+n.publicKey),a.next=5,Object(_.a)(n.publicKey);case 5:i=a.sent,o=!1,Array.isArray(i.data)&&i.data.length>0?(i.data.forEach(function(e){e.currency===r&&parseFloat(e.value)>=parseFloat(t)&&(o=!0)}),o?(console.log("资产够了"),n.orderWithtradePsw(r)):(console.log("资产不够"),c()(n.$t("message.transferPayment.autoTransferFialed")))):c()(n.$t("message.transferPayment.autoTransferFialed"));case 8:case"end":return a.stop()}},a,n)}))()},waitPayment:function(){},holdingInputChange:function(e){var t=e.target.value;!t||""===t||t<=0||(this.form.inputTargetCount=new l.BigNumber(this.getAmountOfConvert).decimalPlaces(5).toNumber())},holdingInputBlur:function(){var e=this.form.amount;(!e||e<=0||""===e)&&(this.form.amount=this.getAmountByConvertCount)},targetInputChange:function(e){var t=e.target.value;!t||""===t||t<=0||(this.form.amount=new l.BigNumber(this.getAmountByConvertCount).decimalPlaces(5).toNumber())},targetInputBlur:function(){var e=this.form.inputTargetCount;(!e||e<=0||""===e)&&(this.form.inputTargetCount=this.getAmountOfConvert)},getCurrencyListList:function(){var e=this,t=this.coinList;Array.isArray(t)&&t.length>0&&t.forEach(function(t){e.currencyList.push({name:t.label,icon:"currency-icon-"+t.label})})},clearInput:function(){this.form.tradePsw="",this.loading=!1}},computed:{coinList:function(){return this.$store.getters.coins},getTrandeCostPrice:function(){return new l.BigNumber(.01)},getAmountOfConvert:function(){var e=this.form.amount;if(""!==e&&e>0)return new l.BigNumber(this.form.amount).multipliedBy(new l.BigNumber(this.currentRatePrice)).decimalPlaces(3).toNumber()},getAmountByConvertCount:function(){var e=this.form.inputTargetCount;if(""!==e&&e>0)return new l.BigNumber(this.form.inputTargetCount).dividedBy(this.currentRatePrice).decimalPlaces(3).toNumber()},getReceivableAmount:function(){return new l.BigNumber(this.getAmountOfConvert).decimalPlaces(3).toNumber()},currentRatePrice:function(){var e=1;return"CNT"===this.base?(this.currencyPairs.counter="CNY",this.currencyPairs.base=this.counter):"CNT"===this.counter&&(this.currencyPairs.counter="CNY",this.currencyPairs.base=this.base),this.base===this.counter?(this.type=-1,e=new l.BigNumber(1).decimalPlaces(3).toNumber()):"CNT"===this.base&&"EGP"===this.counter?(this.type=0,this.form.price=new l.BigNumber(.389).decimalPlaces(3).toNumber(),e=new l.BigNumber(1).dividedBy(new l.BigNumber(.389)).decimalPlaces(3).toNumber()):"EGP"===this.base&&"CNT"===this.counter&&(this.type=1,this.form.price=new l.BigNumber(.388).decimalPlaces(3).toNumber(),e=new l.BigNumber(.388).decimalPlaces(3).toNumber()),console.log("type="+this.type),console.log("price="+this.form.price),console.log("sum="+this.sum),console.log("pairs=",this.currencyPairs),e},getTradeCostRate:function(){return new l.BigNumber(.005).decimalPlaces(5).toNumber()},checkInput:function(){return this.form.amount>0&&this.form.price>0&&this.form.inputTargetCount>0&&""!==this.form.payeeName&&""!==this.form.walletAddress&&""!==this.form.purpose&&""!==this.base&&""!==this.counter}},watch:{currentRatePrice:function(e){this.form.inputTargetCount=this.getAmountOfConvert}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"agiotage"}},[n("ul",{staticClass:"selectTarget"},[n("li",{class:{selectedHolding:!1},on:{click:function(t){e.selectedHolding=!0}}},[e._v(e._s(e.$t("message.transferPayment.HoldingCurrency")))]),e._v(" "),n("li",{class:{selectedHolding:!1},on:{click:function(t){e.selectedHolding=!1}}},[e._v(e._s(e.$t("message.transferPayment.TargetCurrency")))])]),e._v(" "),n("ul",{staticClass:"selectCurrency"},[n("li",{on:{click:function(t){e.baseChoosing=!e.baseChoosing,e.counterChoosing=!1}}},[n("i",{class:"currency-icon-"+e.base}),e._v(" "),n("span",[e._v(e._s(e.base))]),e._v(" "),n("i",{class:"triangle_"+(e.baseChoosing?"clicked":"default")})]),e._v(" "),n("li",{on:{click:function(t){e.counterChoosing=!e.counterChoosing,e.baseChoosing=!1}}},[n("i",{class:"currency-icon-"+e.counter}),e._v(" "),n("span",[e._v(e._s(e.counter))]),e._v(" "),n("i",{class:"triangle_"+(e.counterChoosing?"clicked":"default")})])]),e._v(" "),n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{position:"relative",width:"50%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.baseChoosing,expression:"baseChoosing"}],staticStyle:{position:"absolute",top:"100%",left:"50%","margin-left":"-0.95rem","margin-top":"-0.15rem"}},[n("JcSelect",{attrs:{data:e.currencyList,align:"left",width:"1.9rem",borderColor:"#559df7",itemSpacing:"0.1rem",fontSize:"0.30rem"},on:{close:function(t){e.baseChoosing=!1}},model:{value:e.base,callback:function(t){e.base=t},expression:"base"}})],1)]),e._v(" "),n("div",{staticStyle:{position:"relative",width:"50%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.counterChoosing,expression:"counterChoosing"}],staticStyle:{position:"absolute",top:"100%",left:"50%","margin-left":"-0.95rem","margin-top":"-0.15rem"}},[n("JcSelect",{attrs:{data:e.currencyList,align:"left",width:"1.9rem",borderColor:"#559df7",itemSpacing:"0.1rem",fontSize:"0.30rem"},on:{close:function(t){e.counterChoosing=!1}},model:{value:e.counter,callback:function(t){e.counter=t},expression:"counter"}})],1)])]),e._v(" "),n("div",{staticClass:"amountInput"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.amount,expression:"form.amount"}],attrs:{type:"number"},domProps:{value:e.form.amount},on:{input:[function(t){t.target.composing||e.$set(e.form,"amount",t.target.value)},e.holdingInputChange],focus:function(t){e.form.amount=""},blur:e.holdingInputBlur}})]),e._v(" "),n("p",{staticStyle:{height:"78%",border:"0.015rem solid #e0e3e8"}}),e._v(" "),n("div",{staticStyle:{"justify-content":"flex-end"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.inputTargetCount,expression:"form.inputTargetCount"}],staticStyle:{"text-align":"right"},attrs:{type:"number"},domProps:{value:e.form.inputTargetCount},on:{input:[function(t){t.target.composing||e.$set(e.form,"inputTargetCount",t.target.value)},e.targetInputChange],focus:function(t){e.form.inputTargetCount=""},blur:e.targetInputBlur}})])]),e._v(" "),n("ul",{staticClass:"exchangeRate"},[n("li",{staticStyle:{"justify-content":"flex-end"}},[e._v(e._s(e.$t("message.transferPayment.exchangeRate"))+"：")]),e._v(" "),n("li",{staticStyle:{"min-width":"30%","background-color":"#e8eaf0",padding:"0.05rem 0","border-radius":"0.1rem","text-indent":"0.2rem",color:"#4d4d4d"}},[e._v(e._s(e.currentRatePrice))]),e._v(" "),n("li",{staticStyle:{"border-radius":"0.22rem",color:"#fff","background-color":"#559df7","margin-left":"0.2rem",padding:"0.04rem 0.1rem","justify-content":"center"}},[e._v(e._s(e.$t("message.transferPayment.exchangeRateCompare")))])]),e._v(" "),n("ol",{staticClass:"transactionSummary"},[n("li",{staticStyle:{color:"#555b61","justify-content":"center"}},[e._v(e._s(e.$t("message.transferPayment.transactionSummary")))]),e._v(" "),n("li",[n("span",[e._v(e._s(e.$t("message.transferPayment.remittanceAmount")))]),e._v(" "),n("span",[e._v(e._s(e.form.amount||0)+" "),n("span",{staticClass:"monoSpace"},[e._v(e._s(e.base))])])]),e._v(" "),n("li",[n("span",[e._v(e._s(e.$t("message.transferPayment.transactionCost")))]),e._v(" "),n("span",[e._v(e._s(e.getTrandeCostPrice||0)),n("span",{staticClass:"monoSpace"},[e._v(e._s("SWTC"))])])]),e._v(" "),n("li",[n("span",[e._v(e._s(e.$t("message.transferPayment.amountOfConversion")))]),e._v(" "),n("span",[e._v(e._s(e.getAmountOfConvert||0)+" "),n("span",{staticClass:"monoSpace"},[e._v(e._s(e.counter))])])]),e._v(" "),n("li",[n("span",[e._v(e._s(e.$t("message.transferPayment.receivableAmount")))]),e._v(" "),n("span",[e._v(e._s(e.getReceivableAmount||0)+" "),n("span",{staticClass:"monoSpace"},[e._v(e._s(e.counter))])])])]),e._v(" "),n("ol",{staticClass:"inputInformation"},[n("li",{staticStyle:{width:"100%",position:"relative"}},[n("label",[e._v(e._s(e.$t("message.transferPayment.payee"))+"：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.payeeName,expression:"form.payeeName"}],staticStyle:{"margin-right":"0.2rem"},attrs:{type:"text"},domProps:{value:e.form.payeeName},on:{input:function(t){t.target.composing||e.$set(e.form,"payeeName",t.target.value)}}}),e._v(" "),n("i",{staticClass:"contacts_icon positionIcon",staticStyle:{"margin-top":"-0.15rem",right:"0.5rem"}}),e._v(" "),n("i",{staticClass:"scanning_icon",staticStyle:{"min-width":"0.32rem"}})]),e._v(" "),n("li",{staticStyle:{"align-items":"flex-start"}},[n("label",{staticStyle:{"margin-top":"0.1rem"}},[e._v(e._s(e.$t("message.transferPayment.walletAddress"))+"：")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.walletAddress,expression:"form.walletAddress"}],staticStyle:{width:"100%",height:"0.9rem",padding:"0.1rem 0","vertical-align":"middle",outline:"none"},domProps:{value:e.form.walletAddress},on:{input:function(t){t.target.composing||e.$set(e.form,"walletAddress",t.target.value)}}})]),e._v(" "),n("li",[n("label",{staticStyle:{"margin-top":"0.1rem"}},[e._v(e._s(e.$t("message.transferPayment.purpose"))+"：")]),e._v(" "),n("div",{staticStyle:{position:"relative",width:"100%"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.purpose,expression:"form.purpose"}],staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:e.form.purpose},on:{input:function(t){t.target.composing||e.$set(e.form,"purpose",t.target.value)}}}),e._v(" "),n("div",{staticStyle:{position:"absolute",top:"0",right:"0",width:"0.8rem",height:"0.7rem"},on:{click:function(t){e.choosingPurpose=!e.choosingPurpose}}},[n("i",{staticClass:"blackArrow_icon positionIcon",style:{"margin-top":e.choosingPurpose?"-0.1rem":"-0.12rem",transform:e.choosingPurpose?"rotate(90deg)":"rotate(0deg)"}})]),e._v(" "),n("div",{staticStyle:{width:"100%",position:"absolute",top:"0.9rem",left:"0","z-index":"1"}},[n("JcSelect",{directives:[{name:"show",rawName:"v-show",value:e.choosingPurpose,expression:"choosingPurpose"}],staticStyle:{color:"#616569"},attrs:{data:e.purposeList,width:"100%",borderColor:"#559df7",align:"left",fontSize:"0.28rem"},on:{close:function(t){e.choosingPurpose=!1}},model:{value:e.form.purpose,callback:function(t){e.$set(e.form,"purpose",t)},expression:"form.purpose"}})],1)])]),e._v(" "),n("li",{staticStyle:{"justify-content":"center"}},[n("button",{staticClass:"confirmBtn",class:{confirm_Btn:e.checkInput},on:{click:function(t){e.confirmDialog=!0}}},[e._v(e._s(e.$t("message.transferPayment.confirmPay")))])])]),e._v(" "),n("van-dialog",{attrs:{"show-confirm-button":!1,title:e.$t("message.transferPayment.payments.inputPassword")},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tradePsw,expression:"form.tradePsw"}],staticClass:"inputPsw",staticStyle:{"margin-top":"0.1rem"},attrs:{type:"password",placeholder:e.$t("message.transferPayment.payments.inputPassword")},domProps:{value:e.form.tradePsw},on:{input:function(t){t.target.composing||e.$set(e.form,"tradePsw",t.target.value)}}}),e._v(" "),n("div",[n("button",{staticClass:"inputPsw",staticStyle:{margin:"0.4rem 0 0.2rem 0",background:"#409EFF",color:"#fff","font-size":"0.28rem"},on:{click:e.confirmPay}},[e._v(e._s(e.$t("message.transferPayment.comfirmAgiotagePay")))])])])],1)},staticRenderFns:[]};var b=n("VU/8")(w,P,!1,function(e){n("qku6")},"data-v-88d623c2",null);t.default=b.exports},bmUB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("GKy3");var a=n("4vvA"),s=n.n(a),r=n("h496"),i=n("Dd8w"),o=n.n(i),c=n("bG0Y"),l=n("lqT0"),m=n("c5/C"),u=n("fl6T"),d={mixins:[m.jNodeConfig],data:function(){return{loading:!1}},computed:o()({},Object(u.d)(["swtAddress","jcWallet"])),methods:{getBaseName:function(e){return"CNT"===e?"CNY":"SWTC"===e?"SWT":e},orderWithtradePsw:function(){var e=this;console.log("port="+this.port);var t=new l.JcWalletTool(this.$store.getters.jcWallet),n=this.exHosts,a=this.exPort;t.validatePassword(this.form.tradePsw,"swt").then(function(t){var s={issuer:"jGa9J9TkqtBcUoHe2zqhVFFbgUVED6o9or"};s.currency=e.getBaseName(e.form.currency.name),s.address=e.swtAddress,s.to=e.form.walletAddress,s.amount=e.form.AmountCollected,s.memo=e.form.remark,s.secret=t,s.hosts=n,s.port=a,s.https=e.https,setTimeout(function(){e.confirmPay(s)},1e3)}).catch(function(e){s.a.fail(e.message)}).finally(function(){})},confirmPay:function(e){var t=this;console.log("开始转账"),console.log(e),Object(c.transferAccount)(e).then(function(){s.a.success(t.$t("message.transferPayment.payments.transferSuccess"))}).catch(function(e){console.log(e.message),s.a.fail(e.message)})}}},f={name:"payment",components:{JcSelect:r.default},mixins:[d],mounted:function(){var e=this;setTimeout(function(){e.handleCoinList()},300)},data:function(){return{currencyList:[],showConfirmDialog:!1,form:{payeeName:"",walletAddress:"",AmountCollected:"",remark:"",currency:{name:"",clicked:!1},tradePsw:""}}},computed:{getCoinList:function(){return this.$store.getters.coins},checkForm:function(){return""!==this.form.payeeName&&""!==this.form.walletAddress&&""!==this.form.AmountCollected&&""!==this.form.currency.name}},methods:{handleCoinList:function(){var e=this;this.getCoinList.forEach(function(t){e.currencyList.push({name:t.label,icon:"currency-icon-"+t.label})})},confirmTransfer:function(){if(!this.checkForm||this.loading)return this.showConfirmDialog=!1,void(this.form.tradePsw="");this.showConfirmDialog=!1,this.loading=!0,s.a.loading({duration:0,forbidClick:!0,message:this.$t("message.transferPayment.payments.transfering")}),this.orderWithtradePsw()}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"payment"}},[n("section",{staticStyle:{padding:"1.28rem 0.3rem 0 0.3rem"}},[n("ol",{staticClass:"inputInformation"},[n("li",[n("div",{staticStyle:{position:"relative",width:"100%","margin-right":"0.15rem"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.payeeName,expression:"form.payeeName"}],attrs:{type:"text",placeholder:e.$t("message.transferPayment.payments.payee")},domProps:{value:e.form.payeeName},on:{input:function(t){t.target.composing||e.$set(e.form,"payeeName",t.target.value)}}}),e._v(" "),n("i",{staticClass:"contacts_icon positionIcon",staticStyle:{"margin-top":"-0.15rem"}})]),e._v(" "),n("i",{staticClass:"scanning_icon"})]),e._v(" "),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.walletAddress,expression:"form.walletAddress"}],attrs:{type:"text",placeholder:e.$t("message.transferPayment.payments.walletAddress")},domProps:{value:e.form.walletAddress},on:{input:function(t){t.target.composing||e.$set(e.form,"walletAddress",t.target.value)}}})]),e._v(" "),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.AmountCollected,expression:"form.AmountCollected"}],staticStyle:{width:"100%"},attrs:{type:"number",placeholder:e.$t("message.transferPayment.payments.receivableAmount")},domProps:{value:e.form.AmountCollected},on:{input:function(t){t.target.composing||e.$set(e.form,"AmountCollected",t.target.value)}}}),e._v(" "),n("div",{staticStyle:{position:"relative","min-width":"2.2rem","margin-left":"0.2rem"}},[n("i",{class:"currency-icon-"+e.form.currency.name,staticStyle:{position:"absolute",top:"0.17rem",left:"50%","margin-left":"-0.7rem"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.currency.name,expression:"form.currency.name"}],staticClass:"placeholder",staticStyle:{"text-align":"center","text-indent":"0.15rem"},attrs:{readonly:"readonly",placeholder:e.$t("message.transferPayment.payments.currency")},domProps:{value:e.form.currency.name},on:{click:function(t){e.form.currency.clicked=!e.form.currency.clicked},input:function(t){t.target.composing||e.$set(e.form.currency,"name",t.target.value)}}}),e._v(" "),n("i",{class:"triangle_"+(e.form.currency.clicked?"clicked":"default"),staticStyle:{position:"absolute",top:"0.26rem",right:"0.2rem"}}),e._v(" "),n("JcSelect",{directives:[{name:"show",rawName:"v-show",value:e.form.currency.clicked,expression:"form.currency.clicked"}],staticStyle:{position:"absolute",top:"100%",left:"50%","margin-left":"-1.1rem","margin-top":"0.2rem"},attrs:{data:e.currencyList,align:"left",width:"100%",borderColor:"#559df7",itemSpacing:"0.15rem",indent:"0.4rem",fontSize:"0.30rem"},on:{close:function(t){e.form.currency.clicked=!1}},model:{value:e.form.currency.name,callback:function(t){e.$set(e.form.currency,"name",t)},expression:"form.currency.name"}})],1)]),e._v(" "),n("li",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.remark,expression:"form.remark"}],staticStyle:{height:"1.8rem",padding:"0.22rem 0 0 0"},attrs:{rows:"2",cols:"300",placeholder:e.$t("message.transferPayment.payments.note"),maxlength:"50"},domProps:{value:e.form.remark},on:{input:function(t){t.target.composing||e.$set(e.form,"remark",t.target.value)}}})]),e._v(" "),n("li",[n("div",{staticClass:"confirm",on:{click:function(t){e.showConfirmDialog=!0}}},[e._v(e._s(e.$t("message.transferPayment.transactionInquiry.confirm")))])])]),e._v(" "),n("van-dialog",{staticStyle:{"margin-top":"-1rem"},attrs:{title:e.$t("message.transferPayment.payments.dialogTitle"),center:"","show-cancel-button":!1,"show-confirm-button":!1},model:{value:e.showConfirmDialog,callback:function(t){e.showConfirmDialog=t},expression:"showConfirmDialog"}},[n("ul",{staticClass:"dialogForm"},[n("li",{staticStyle:{"justify-content":"flex-start"}},[e._v(e._s(e.$t("message.transferPayment.payments.inputPassword")))]),e._v(" "),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tradePsw,expression:"form.tradePsw"}],staticStyle:{"text-indent":"0.2rem"},attrs:{type:"password"},domProps:{value:e.form.tradePsw},on:{input:function(t){t.target.composing||e.$set(e.form,"tradePsw",t.target.value)}}})]),e._v(" "),n("div",{staticStyle:{height:"0.1rem"}}),e._v(" "),n("li",[n("button",{staticStyle:{background:"#1D93F7"},on:{click:e.confirmTransfer}},[e._v(e._s(e.$t("message.transferPayment.payments.confirm")))])])])])],1)])},staticRenderFns:[]};var p=n("VU/8")(f,g,!1,function(e){n("oiaw")},"data-v-75552a73",null);t.default=p.exports},hb3a:function(e,t){},oiaw:function(e,t){},qku6:function(e,t){}});
//# sourceMappingURL=2.68ede450b7f54c5774d4.js.map